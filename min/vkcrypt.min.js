var Aes,VKCrypt,_gaq;
(function(){function i(){_gaq=[["_setAccount","UA-26518084-2"],["_trackPageview"]];var a=window.onerror;window.onerror=function(c,b,d){_gaq.push(["_trackEvent","JS Error",c,navigator.userAgent+" -> "+b+" : "+d]);"function"===typeof a&&a();return!0}}function h(a,c){for(var b,d,e=localStorage.getItem(f),g=0;g<a.length;g++)d=a[g].getElementsByClassName("im_log_body")[0],d=d.firstChild,(b=d.getElementsByClassName("im_log_author_chat_name")[0])&&d.removeChild(b),b=d.textContent,b=c?Aes.Ctr.encrypt(b,e,
256):Aes.Ctr.decrypt(b,e,256),d.textContent=b}if(!_gaq&&!document.getElementById("http://google-analytics.com/ga.js")){var e=document.createElement("script");e.id=e.src="http://google-analytics.com/ga.js";e.onload=i;document.body.appendChild(e)}var f="vkcrypt-key";VKCrypt={encrypt:function(){var a=document.getElementsByClassName("im_sel_row");if(a.length)h(a,!0);else{var a=document.getElementsByClassName("im_editable")[0],c=localStorage.getItem(f),b;b=a.textContent;b||(a=document.getElementsByClassName("im_editable")[1],
b=a.textContent);c=Aes.Ctr.encrypt(b,c,256);a.textContent=c}},decrypt:function(){var a=document.getElementsByClassName("im_sel_row");if(a.length)h(a,!1);else{var a=document.getElementsByClassName("im_editable")[1],c=localStorage.getItem(f),c=Aes.Ctr.decrypt(a.textContent,c,256);a.textContent=c}},setKey:function(){var a=localStorage.getItem(f),a=prompt("\u041a\u043b\u044e\u0447: ",a||"");localStorage.setItem(f,a)}}})();